<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title></title>
	</head>
	<body>
		<div data-role="view" data-title="Graphics" data-layout="grahicalDataLayout" data-before-show="cleanview" data-show="customgraphlist">
			<div data-role="popover" id="popover-people" data-popup='{"height": 200, "width": 290}' class="popupContent">
				<div data-role="view" data-title="Search">
					<div data-role="header">
						<div data-role="navbar">
							<a data-role="button" data-align="left" data-click="closeParentPopover">Apply</a>
							<span data-role="view-title" ></span>
							<a data-role="button" data-align="right" data-click="clearPopover">Reset</a>
						</div>
					</div>
					<div id="validateDate">
						<table cellpadding="5px" cellspacing="5px">
							<tr>
								<td>Range :</td>
								<td>
									<select id="ddlSelect" data-change="onChange">
										<option value="since" >Since</option>
										<option value="custom" >Custom</option>
									</select>
								</td>
							</tr>
							<tr id="since">
								<td id="changeFrom">Date :</td>
								<td>
									<input id="dpFrom" name="dpFrom" required validationMessage="*" />
								</td>
							</tr>
							<tr id="datePickerId" style="display:none">
								<td>To :</td>
								<td>
									<input id="dpTo" name="dpTo" required validationMessage="*" />
								</td>
							</tr>
						</table>
					</div>
				</div>
			</div>

			<div id="graph_list" class="graph-list" width="200px"></div>

			<div id="scrollview" data-role="scrollview" data-page="0" class="chart-area" data-change="showGridData">
				<div data-role="page" id="chartAreapage" align="center">
					<div id="chartArea" align="center"></div>
				</div><div data-role="page" id="gridAreapage" align="center">
					<div id="gridArea" align="center"></div>
				</div>
			</div>

			<script>
				$(document).ready(function() {
					$("#ddlSelect").kendoComboBox();
					$("#dpFrom").kendoDatePicker({value:new Date()}); 
					$("#dpTo").kendoDatePicker({value:new Date()});	
z				});
                
				$(window).resize(function() {
                    alert($(window).height() +" " +$("#reportheader").height() +" "+ $("#reportfooter").height());
					var contentHeight = $(window).height() - $("#reportheader").height() - $("#reportfooter").height()-5;
					$("#graph_list").css('height', contentHeight);
                    
					var contentWidth = $(window).width() - $("#graph_list").width()-15;
					
					$("#chartAreapage").css('width', contentWidth);
					$("#gridAreapage").css('width', contentWidth);
					$("#chartArea").css('width', contentWidth);
					$("#gridArea").css('width', contentWidth);
                    
					$("#chartArea").data("kendoChart").redraw();
					//$("#gridArea").data("kendoGrid").redraw();
					$("#scrollview").data("kendoMobileScrollView").viewShow();
					$('.firstdiv').css('transform', 'scale(1.0) translate3d('+(contentWidth*-1*$("#scrollview").data("kendoMobileScrollView").page)+'px,0px,0px)');
				});
				
				function onChange(e) {
					var date = new Date();
					$("#dpFrom").data("kendoDatePicker").value(date);
					$("#datePickerId").hide();
					document.getElementById('changeFrom').innerHTML = "Date :";
					if (e.sender.selectedIndex == 1) {
						document.getElementById('changeFrom').innerHTML = "From :";
						$("#dpFrom").kendoDatePicker({value:new Date(date.getFullYear(), date.getMonth(), 1)}); 
						$("#datePickerId").show();
					}
				}
			</script>
		</div>
	</body>
</html>